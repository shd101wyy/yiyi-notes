---
note:
    createdAt: 2020-03-21T11:17:40.877Z
    modifiedAt: 2020-03-21T12:31:47.811Z
    tags: [backend/postgresql]
    id: ""
---
# PostgreSQL command

## Start the REPL

```bash
$ psql -U$username $dbname
# eg
$ psql -Uyiyiwang dev.crossnote
```

or 

```bash
$ sudo -u postgres psql $dbname
```


list databases

```bash
dev.crossnote=# \l
```

list all tables

```bash
dev.crossnote=# \d
```

describe a table

```bash
dev.crossnote=# \d $tablename
#eg 
dev.crossnote=# \d notes
```

## Drop column 

```bash
dev.crossnote=# ALTER TABLE $tablename DROP COLUMN $columnname

dev.crossnote=# ALTER TABLE users DROP COLUMN folloings_count
```

## Alter column name

```
ALTER TABLE users RENAME COLUMN followings TO followings_count;

ALTER TABLE users RENAME COLUMN followers TO followers_count;

ALTER TABLE users RENAME COLUMN notes TO notes_count;

ALTER TABLE notes RENAME COLUMN reactions TO reactions_count;

ALTER TABLE notes RENAME COLUMN reports TO reports_count;

ALTER TABLE notes RENAME COLUMN bookmarks TO bookmarks_count;

ALTER TABLE chat_groups RENAME COLUMN count TO messages_count;


```

## Backup database

```bash
$ sudo -u postgres pg_dump $dbname > $backup_name
```